"use strict";(self.webpackChunkcurso_angular=self.webpackChunkcurso_angular||[]).push([[911],{3874:(E,_,r)=>{r.r(_),r.d(_,{PersonAdministrationModule:()=>$});var g=r(6814),i=r(6223),m=r(1896),b=r(8389),t=r(5879),C=r(7809),f=r(2939),s=r(5313),l=r(2296),h=r(617);function T(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Nombre "),t.qZA())}function v(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.nombre," ")}}function A(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Apellido "),t.qZA())}function N(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.apellido," ")}}function y(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Edad "),t.qZA())}function F(e,a){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.edad," ")}}function k(e,a){1&e&&(t.TgZ(0,"th",12),t._uU(1," Adulto (+18) "),t.qZA())}function M(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"check"),t.qZA())}function Y(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"close"),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"td",13),t.YNc(1,M,2,0,"mat-icon",14),t.YNc(2,Y,2,0,"mat-icon",14),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf",n.edad>=18),t.xp6(1),t.Q6J("ngIf",n.edad<18)}}function S(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1," Acciones "),t.qZA())}function D(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",13)(1,"button",16),t.NdJ("click",function(){const d=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.seleccionarPersona(d))}),t.TgZ(2,"mat-icon"),t._uU(3,"create"),t.qZA()(),t.TgZ(4,"button",17),t.NdJ("click",function(){const d=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.borrarPersona(d))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete_sweep"),t.qZA()()()}}function q(e,a){1&e&&t._UZ(0,"tr",18)}function L(e,a){1&e&&t._UZ(0,"tr",19)}let O=(()=>{class e{constructor(n,o,c){this.personService=n,this.matSnackBar=o,this.router=c,this.personList=[],this.selectedPerson=null,this.displayedColumns=["nombre","apellido","edad","adulto","acciones"],this.dataSource=[]}ngOnInit(){this.loadPerson()}loadPerson(){this.personService.findAll().subscribe(n=>{n.body&&(this.personList=n.body.map(o=>new b.F(o.id,o.age,o.name,o.lastName)),this.dataSource=this.personList)},n=>{})}seleccionarPersona(n){this.router.navigate(["person","detail",n.id])}crearPersona(){this.router.navigate(["person","create"])}borrarPersona(n){this.personService.borrar(n.id).subscribe(o=>{this.matSnackBar.open("Se borro correctamente la persona correctamente","Cerrar"),this.loadPerson()},o=>{this.matSnackBar.open(o,"Cerrar")})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.R),t.Y36(f.ux),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-person-list"]],decls:21,vars:3,consts:[["mat-icon-button","",1,"crearPersona",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","cabecera",4,"matCellDef"],["matColumnDef","apellido"],["matColumnDef","edad"],["matColumnDef","adulto"],["matColumnDef","acciones",1,"text-center"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"cabecera"],[4,"ngIf"],["mat-header-cell",""],["mat-fab","","color","primary",1,"acciones1",3,"click"],["mat-fab","","color","warn",1,"acciones",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.crearPersona()}),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA()(),t.TgZ(3,"table",1),t.ynx(4,2),t.YNc(5,T,2,0,"th",3),t.YNc(6,v,2,1,"td",4),t.BQk(),t.ynx(7,5),t.YNc(8,A,2,0,"th",3),t.YNc(9,N,2,1,"td",4),t.BQk(),t.ynx(10,6),t.YNc(11,y,2,0,"th",3),t.YNc(12,F,2,1,"td",4),t.BQk(),t.ynx(13,7),t.YNc(14,k,2,0,"th",3),t.YNc(15,U,3,2,"td",4),t.BQk(),t.ynx(16,8),t.YNc(17,S,2,0,"th",9),t.YNc(18,D,7,0,"td",4),t.BQk(),t.YNc(19,q,1,0,"tr",10),t.YNc(20,L,1,0,"tr",11),t.qZA()),2&n&&(t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[g.O5,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,l.RK,l.cs,h.Hw],styles:[".persona-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;margin:20px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-mdc-table[_ngcontent-%COMP%]{table-layout:auto;white-space:pre;background-color:gold}.mdc-data-table__table[_ngcontent-%COMP%]{min-width:80%;margin:auto;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mat-mdc-table[_ngcontent-%COMP%]   .mdc-data-table__header-row[_ngcontent-%COMP%]{height:56px;background-color:#daa520}.crearPersona[_ngcontent-%COMP%]{background-color:gold;margin-bottom:20px}.acciones[_ngcontent-%COMP%]{margin-left:10px;width:35px;height:35px}.acciones1[_ngcontent-%COMP%]{width:35px;height:35px}.cabecera[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}"]}),e})();var u=r(9157),P=r(5195),Z=r(2032);function w(e,a){1&e&&(t.TgZ(0,"mat-hint",11),t._uU(1," Campo requerido "),t.qZA())}function J(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,w,2,0,"mat-hint",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.personForm.controls.name.errors.required)}}function I(e,a){1&e&&(t.TgZ(0,"mat-hint",11),t._uU(1," Campo requerido "),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,I,2,0,"mat-hint",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.personForm.controls.lastName.errors.required)}}function B(e,a){1&e&&(t.TgZ(0,"mat-hint",11),t._uU(1," Campo requerido "),t.qZA())}function R(e,a){1&e&&(t.TgZ(0,"mat-hint",11),t._uU(1," La edad debe ser mayor o igual a 0 a\xf1os "),t.qZA())}function H(e,a){1&e&&(t.TgZ(0,"mat-hint",11),t._uU(1," La edad debe ser menor o igual a 101 a\xf1os "),t.qZA())}function z(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,B,2,0,"mat-hint",10),t.YNc(2,R,2,0,"mat-hint",10),t.YNc(3,H,2,0,"mat-hint",10),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.personForm.controls.age.errors.required),t.xp6(1),t.Q6J("ngIf",n.personForm.controls.age.errors.min),t.xp6(1),t.Q6J("ngIf",n.personForm.controls.age.errors.max)}}let x=(()=>{class e{constructor(n,o,c,d,p){this.personService=n,this.fb=o,this.route=c,this.matSnackBar=d,this.router=p,this.selectedPerson=null,this.personForm=this.fb.group({name:["",i.kI.required],lastName:["",i.kI.required],age:[0,[i.kI.required,i.kI.min(0),i.kI.max(101)]]})}ngOnInit(){this.route.paramMap.subscribe(n=>{const o=n.get("id");o&&this.findPerson(Number(o))})}findPerson(n){this.personService.findOne(n).subscribe(o=>{o.body&&(this.selectedPerson=new b.F(o.body.id,o.body.age,o.body.name,o.body.lastName),this.personForm.patchValue({name:this.selectedPerson.nombre,lastName:this.selectedPerson.apellido,age:this.selectedPerson.edad}))},o=>{this.matSnackBar.open(o,"Cerrar"),this.router.navigate(["person","list"])})}guardarCambios(){const n={id:null,name:this.personForm.get("name").value,lastName:this.personForm.get("lastName").value,age:this.personForm.get("age").value};this.selectedPerson&&this.selectedPerson.id?(n.id=this.selectedPerson.id,this.personService.actualizarPersona(n).subscribe(o=>{this.matSnackBar.open("Se guardaron los cambios de la persona","Cerrar"),this.router.navigate(["person","list"])},o=>{this.matSnackBar.open(o,"Cerrar")})):this.personService.crearPersona(n).subscribe(o=>{this.matSnackBar.open("Se creo la persona correctamente","Cerrar"),this.router.navigate(["person","list"])},o=>{this.matSnackBar.open(o,"Cerrar")})}volverAtras(){this.router.navigate(["person","list"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.R),t.Y36(i.qu),t.Y36(m.gz),t.Y36(f.ux),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-person-detail"]],decls:25,vars:5,consts:[[3,"formGroup","ngSubmit"],["type","button","mat-icon-button","",1,"go-back-button",3,"click"],[1,"persona-container",2,"padding","20px"],[1,"title"],[1,"person-input"],["matInput","","type","text","formControlName","name"],[4,"ngIf"],["matInput","","type","text","formControlName","lastName"],["matInput","","type","number","formControlName","age"],["type","submit","mat-button","",3,"disabled"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(n,o){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.guardarCambios()}),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.volverAtras()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"mat-card",2)(5,"div",3)(6,"h2"),t._uU(7,"Crear / Editar Pasajero"),t.qZA()(),t.TgZ(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Nombre:"),t.qZA(),t._UZ(11,"input",5),t.YNc(12,J,2,1,"div",6),t.qZA(),t.TgZ(13,"mat-form-field",4)(14,"mat-label"),t._uU(15,"Apellido:"),t.qZA(),t._UZ(16,"input",7),t.YNc(17,Q,2,1,"div",6),t.qZA(),t.TgZ(18,"mat-form-field",4)(19,"mat-label"),t._uU(20,"Edad:"),t.qZA(),t._UZ(21,"input",8),t.YNc(22,z,4,3,"div",6),t.qZA(),t.TgZ(23,"button",9),t._uU(24," Guardar Cambios"),t.qZA()()()),2&n&&(t.Q6J("formGroup",o.personForm),t.xp6(12),t.Q6J("ngIf",o.personForm.controls.name.invalid&&(o.personForm.controls.name.dirty||o.personForm.controls.name.touched)),t.xp6(5),t.Q6J("ngIf",o.personForm.controls.lastName.invalid&&(o.personForm.controls.lastName.dirty||o.personForm.controls.lastName.touched)),t.xp6(5),t.Q6J("ngIf",o.personForm.controls.age.invalid&&(o.personForm.controls.age.dirty||o.personForm.controls.age.touched)),t.xp6(1),t.Q6J("disabled",o.personForm.invalid))},dependencies:[g.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,l.lW,l.RK,u.KE,u.hX,u.bx,P.a8,Z.Nt,h.Hw],styles:[".persona-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80%;background:gold;margin:auto}.person-input[_ngcontent-%COMP%]{width:50%;align-self:center}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.go-back-button[_ngcontent-%COMP%]{bottom:7px;background-color:gold}.mat-mdc-button[_ngcontent-%COMP%]:not(:disabled){color:#fff}.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:36px;width:18%;background-color:#daa520;margin:auto}"]}),e})();const j=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:O},{path:"create",component:x},{path:"detail/:id",component:x}];let G=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(j),m.Bz]}),e})();var X=r(8034);let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,i.u5,s.p0,i.UX,G,l.ot,u.lN,P.QW,Z.c,h.Ps,f.ZX,X.FA]}),e})()}}]);